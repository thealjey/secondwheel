<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossOrigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.css" integrity="sha256-/Kfdz9pXGPe+bFF+TtxHqbg6F9c3Rb0jN48uy+2b/do=" crossOrigin="anonymous"/><style>
#app {
  height: 100vh;
  display: grid;
  grid-template-columns: 20rem 1fr;
  grid-template-rows: 4rem 1fr;
  grid-template-areas:
    "header header"
    "aside main";
}
header { grid-area: header; }
aside { grid-area: aside; overflow-x: hidden; overflow-y: auto; }
main { grid-area: main; overflow-x: hidden; overflow-y: auto; }
.nav-item > .nav, section > article { font-size: .9em; }
.nav-item > .nav { display: none; }
.shift { padding-left: 1em; }
.gray-link { padding-left: 0; color: rgba(26, 26, 26, .75); transition: color .2s ease-out; }
.gray-link:hover { color: #999; }
.aside-link.active { font-weight: 500; color: #1a1a1a; }
.aside-link.active + .nav { display: flex; }
section > .section-link { font-size: 1.5em; }
section { margin-bottom: .5em; }
h4 { font-size: 1.1em; margin-top: 1.2em; font-weight: 400; }
code { white-space: pre; }
</style><title>secondwheel - Documentation</title></head><body><div id="app"><header role="banner" class="navbar navbar-expand navbar-dark bg-dark"><a href="#" class="navbar-brand">secondwheel</a><div class="justify-content-end navbar-collapse collapse"><div class="navbar-nav"><a href="https://github.com/thealjey/secondwheel" class="nav-link">GitHub</a></div></div></header><aside><div class="flex-column shift nav"><div class="nav-item"><a href="#templating" data-rb-event-key="#templating" class="aside-link gray-link nav-link">Templating</a><div class="flex-column shift nav"><div class="nav-item"><a href="#template" data-rb-event-key="#template" class="aside-link gray-link nav-link">template</a></div><div class="nav-item"><a href="#markdown" data-rb-event-key="#markdown" class="aside-link gray-link nav-link">markdown</a></div><div class="nav-item"><a href="#jsx" data-rb-event-key="#jsx" class="aside-link gray-link nav-link">jsx</a><div class="flex-column shift nav"><div class="nav-item"><a href="#jsxarraytojsx" data-rb-event-key="#jsxarraytojsx" class="aside-link gray-link nav-link">arrayToJSX</a></div><div class="nav-item"><a href="#jsxhtmltoarray" data-rb-event-key="#jsxhtmltoarray" class="aside-link gray-link nav-link">htmlToArray</a></div><div class="nav-item"><a href="#jsxhtmltojsx" data-rb-event-key="#jsxhtmltojsx" class="aside-link gray-link nav-link">htmlToJSX</a></div></div></div></div></div><div class="nav-item"><a href="#apollographql" data-rb-event-key="#apollographql" class="aside-link gray-link nav-link">Apollo/GraphQL</a><div class="flex-column shift nav"><div class="nav-item"><a href="#apolloclient" data-rb-event-key="#apolloclient" class="aside-link gray-link nav-link">ApolloClient</a><div class="flex-column shift nav"><div class="nav-item"><a href="#apolloclientcreatelink" data-rb-event-key="#apolloclientcreatelink" class="aside-link gray-link nav-link">createLink</a></div><div class="nav-item"><a href="#apolloclientcreatecache" data-rb-event-key="#apolloclientcreatecache" class="aside-link gray-link nav-link">createCache</a></div><div class="nav-item"><a href="#apolloclientcreatehttplink" data-rb-event-key="#apolloclientcreatehttplink" class="aside-link gray-link nav-link">createHttpLink</a></div><div class="nav-item"><a href="#apolloclientcreatewslink" data-rb-event-key="#apolloclientcreatewslink" class="aside-link gray-link nav-link">createWSLink</a></div><div class="nav-item"><a href="#apolloclientgetlinks" data-rb-event-key="#apolloclientgetlinks" class="aside-link gray-link nav-link">getLinks</a></div><div class="nav-item"><a href="#apolloclientcreateerrorlink" data-rb-event-key="#apolloclientcreateerrorlink" class="aside-link gray-link nav-link">createErrorLink</a></div><div class="nav-item"><a href="#apolloclientcreateretrylink" data-rb-event-key="#apolloclientcreateretrylink" class="aside-link gray-link nav-link">createRetryLink</a></div><div class="nav-item"><a href="#apolloclientcreatebatchlink" data-rb-event-key="#apolloclientcreatebatchlink" class="aside-link gray-link nav-link">createBatchLink</a></div></div></div><div class="nav-item"><a href="#nextapollo" data-rb-event-key="#nextapollo" class="aside-link gray-link nav-link">nextApollo</a></div><div class="nav-item"><a href="#subscription" data-rb-event-key="#subscription" class="aside-link gray-link nav-link">subscription</a><div class="flex-column shift nav"><div class="nav-item"><a href="#subscriptioncreated" data-rb-event-key="#subscriptioncreated" class="aside-link gray-link nav-link">created</a></div><div class="nav-item"><a href="#subscriptionupdated" data-rb-event-key="#subscriptionupdated" class="aside-link gray-link nav-link">updated</a></div><div class="nav-item"><a href="#subscriptiondeleted" data-rb-event-key="#subscriptiondeleted" class="aside-link gray-link nav-link">deleted</a></div></div></div></div></div><div class="nav-item"><a href="#hashingmasking" data-rb-event-key="#hashingmasking" class="aside-link gray-link nav-link">Hashing/Masking</a><div class="flex-column shift nav"><div class="nav-item"><a href="#maskpassword" data-rb-event-key="#maskpassword" class="aside-link gray-link nav-link">maskPassword</a></div><div class="nav-item"><a href="#md5" data-rb-event-key="#md5" class="aside-link gray-link nav-link">md5</a></div><div class="nav-item"><a href="#slug" data-rb-event-key="#slug" class="aside-link gray-link nav-link">slug</a></div></div></div><div class="nav-item"><a href="#test-assertions" data-rb-event-key="#test-assertions" class="aside-link gray-link nav-link">Test Assertions</a><div class="flex-column shift nav"><div class="nav-item"><a href="#reactshallowstrictequal" data-rb-event-key="#reactshallowstrictequal" class="aside-link gray-link nav-link">reactShallowStrictEqual</a></div><div class="nav-item"><a href="#matching" data-rb-event-key="#matching" class="aside-link gray-link nav-link">matching</a></div><div class="nav-item"><a href="#assert" data-rb-event-key="#assert" class="aside-link gray-link nav-link">assert</a></div></div></div><div class="nav-item"><a href="#misc" data-rb-event-key="#misc" class="aside-link gray-link nav-link">Misc</a><div class="flex-column shift nav"><div class="nav-item"><a href="#cookie" data-rb-event-key="#cookie" class="aside-link gray-link nav-link">cookie</a><div class="flex-column shift nav"><div class="nav-item"><a href="#cookiesetcookie" data-rb-event-key="#cookiesetcookie" class="aside-link gray-link nav-link">setCookie</a></div><div class="nav-item"><a href="#cookiesetsessioncookie" data-rb-event-key="#cookiesetsessioncookie" class="aside-link gray-link nav-link">setSessionCookie</a></div><div class="nav-item"><a href="#cookiegetcookie" data-rb-event-key="#cookiegetcookie" class="aside-link gray-link nav-link">getCookie</a></div><div class="nav-item"><a href="#cookieremovecookie" data-rb-event-key="#cookieremovecookie" class="aside-link gray-link nav-link">removeCookie</a></div><div class="nav-item"><a href="#cookiesetreturnto" data-rb-event-key="#cookiesetreturnto" class="aside-link gray-link nav-link">setReturnTo</a></div><div class="nav-item"><a href="#cookiegetreturnto" data-rb-event-key="#cookiegetreturnto" class="aside-link gray-link nav-link">getReturnTo</a></div></div></div><div class="nav-item"><a href="#constants" data-rb-event-key="#constants" class="aside-link gray-link nav-link">constants</a><div class="flex-column shift nav"><div class="nav-item"><a href="#constantsisnode" data-rb-event-key="#constantsisnode" class="aside-link gray-link nav-link">isNode</a></div><div class="nav-item"><a href="#constantsisbrowser" data-rb-event-key="#constantsisbrowser" class="aside-link gray-link nav-link">isBrowser</a></div><div class="nav-item"><a href="#constantsnativewebsocket" data-rb-event-key="#constantsnativewebsocket" class="aside-link gray-link nav-link">NativeWebSocket</a></div></div></div><div class="nav-item"><a href="#theme" data-rb-event-key="#theme" class="aside-link gray-link nav-link">theme</a></div></div></div></div></aside><main><article class="shift"><section id="templating"><a href="#templating" class="section-link gray-link nav-link">Templating</a><div>
</div><article class="shift"><section id="template"><a href="#template" class="section-link gray-link nav-link">template</a><div>a wrapper around

<a href="https://lodash.com/docs/4.17.11#template">lodash/template</a>
,
which caches compiled templates in memory
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">tpl<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span>
data<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> template <span class="token keyword">from</span> <span class="token string">'secondwheel/template'</span>

<span class="token function">template</span><span class="token punctuation">(</span><span class="token string">'hello &lt;%= name %>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">template</span><span class="token punctuation">(</span><span class="token string">'hello &lt;%= name %>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// only compiled once</span></code></pre></section><section id="markdown"><a href="#markdown" class="section-link gray-link nav-link">markdown</a><div>converts a markdown string to

<a href="https://github.com/hyperhype/hyperscript">HyperScript</a>

compatible nodes
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">h<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>
tpl<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span>
data<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> markdown <span class="token keyword">from</span> <span class="token string">'secondwheel/markdown'</span>

<span class="token comment">// use with any HyperScript compatible framework</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createElement <span class="token keyword">as</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'preact'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'inferno-hyperscript'</span>

<span class="token function">markdown</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> <span class="token string">'hello &lt;%= name %>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// &lt;p>hello foo&lt;/p></span></code></pre></section><section id="jsx"><a href="#jsx" class="section-link gray-link nav-link">jsx</a><div>tools for working with jsx
</div><article class="shift"><section id="jsxarraytojsx"><a href="#jsxarraytojsx" class="section-link gray-link nav-link">arrayToJSX</a><div>converts an array of objects and strings to

<a href="https://github.com/hyperhype/hyperscript">HyperScript</a>

compatible nodes
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">h<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>
arr<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> arrayToJSX <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/jsx'</span>

<span class="token comment">// use with any HyperScript compatible framework</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createElement <span class="token keyword">as</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'preact'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'inferno-hyperscript'</span>

<span class="token comment">// render dynamic content without `dangerouslySetInnerHTML`</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">arrayToJSX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> <span class="token operator">&lt;</span>result <span class="token keyword">of</span> htmlToArray<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span></code></pre></section><section id="jsxhtmltoarray"><a href="#jsxhtmltoarray" class="section-link gray-link nav-link">htmlToArray</a><div>converts an html string to an array of plain objects and strings
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">tpl<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span>
data<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> htmlToArray <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/jsx'</span>

<span class="token comment">// stringify to transmit over the network, cache, etc.</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token function">htmlToArray</span><span class="token punctuation">(</span><span class="token string">'&lt;b>hello &lt;%= name %>&lt;/b>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></section><section id="jsxhtmltojsx"><a href="#jsxhtmltojsx" class="section-link gray-link nav-link">htmlToJSX</a><div>converts an html string to

<a href="https://github.com/hyperhype/hyperscript">HyperScript</a>

compatible nodes
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">h<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>
tpl<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span>
data<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> htmlToJSX <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/jsx'</span>

<span class="token comment">// use with any HyperScript compatible framework</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createElement <span class="token keyword">as</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'preact'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'inferno-hyperscript'</span>

<span class="token comment">// bold text without `dangerouslySetInnerHTML`</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">htmlToJSX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> <span class="token string">'&lt;b>hello &lt;%= name %>&lt;/b>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span></code></pre></section></article></section></article></section><section id="apollographql"><a href="#apollographql" class="section-link gray-link nav-link">Apollo/GraphQL</a><div>
</div><article class="shift"><section id="apolloclient"><a href="#apolloclient" class="section-link gray-link nav-link">ApolloClient</a><div><ul>
<li>like <a href="https://www.npmjs.com/package/apollo-boost">apollo-boost</a>, but
allows for a greater degree of configurability</li>
<li>augments <a href="https://www.npmjs.com/package/apollo-client">apollo-client</a>
with usefull defaults</li>
<li>batches requests, retries failed requests</li>
<li>works on Node.js and in the browser alike</li>
<li>subscriptions baked in</li>
<li>provides static methods, overriding which any aspect of the default
functionality can be changed</li>
</ul>
</div><h4>Extends</h4><div>Client</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">export</span> type Options <span class="token operator">=</span> <span class="token punctuation">{</span>

  uri<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'/graphql'</span><span class="token punctuation">;</span>
  <span class="token comment">// used in the browser</span>
  browserUri<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">=</span> uri<span class="token punctuation">;</span>
  <span class="token comment">// used in Node.js</span>
  serverUri<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">=</span> browserUri<span class="token punctuation">;</span>
  <span class="token comment">// if provided a WebSocketLink will be configured</span>
  wsUri<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token comment">// use on the client to restore server state, no the need to re-run queries</span>
  cache<span class="token operator">?</span><span class="token punctuation">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// by default prints errors to console</span>
  onError<span class="token operator">?</span><span class="token punctuation">:</span> error <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>

  <span class="token comment">// "apollo-client" options</span>
  ssrForceFetchDelay<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  connectToDevTools<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>
  queryDeduplication<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  version<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  defaultOptions<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> watchQuery<span class="token operator">?</span><span class="token punctuation">:</span> Object<span class="token punctuation">;</span> query<span class="token operator">?</span><span class="token punctuation">:</span> Object<span class="token punctuation">;</span> mutate<span class="token operator">?</span><span class="token punctuation">:</span> Object<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// "apollo-link-ws" options</span>
  wsOptions<span class="token operator">?</span><span class="token punctuation">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span> reconnect<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  webSocketImpl<span class="token operator">?</span><span class="token punctuation">:</span> WebSocket<span class="token punctuation">;</span>

  <span class="token comment">// "apollo-link-retry" options</span>
  delay<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> initial<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span> max<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span> jitter<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  attempts<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> max<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span> retryIf<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> operation<span class="token punctuation">)</span> <span class="token operator">=></span> boolean<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// "apollo-link-batch-http" options</span>
  includeExtensions<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>
  headers<span class="token operator">?</span><span class="token punctuation">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  credentials<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'same-origin'</span><span class="token punctuation">;</span>
  fetchOptions<span class="token operator">?</span><span class="token punctuation">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  useGETForQueries<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>
  batchMax<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  batchInterval<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  batchKey<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> string<span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> ApolloClient <span class="token keyword">from</span> <span class="token string">'secondwheel/ApolloClient'</span>

<span class="token comment">// connecting to a simple "graphql-yoga" server with default options</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApolloClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  uri<span class="token punctuation">:</span> <span class="token string">'http://localhost:4000'</span><span class="token punctuation">,</span>
  wsUri<span class="token punctuation">:</span> <span class="token string">'ws://localhost:4000'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><article class="shift"><section id="apolloclientcreatelink"><a href="#apolloclientcreatelink" class="section-link gray-link nav-link">createLink</a><div>creates the final instance of ApolloLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink</code></pre></section><section id="apolloclientcreatecache"><a href="#apolloclientcreatecache" class="section-link gray-link nav-link">createCache</a><div>creates an instance of ApolloCache
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloCache</code></pre></section><section id="apolloclientcreatehttplink"><a href="#apolloclientcreatehttplink" class="section-link gray-link nav-link">createHttpLink</a><div>creates an instance of ApolloLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink</code></pre></section><section id="apolloclientcreatewslink"><a href="#apolloclientcreatewslink" class="section-link gray-link nav-link">createWSLink</a><div>creates an instance of WebSocketLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink?</code></pre></section><section id="apolloclientgetlinks"><a href="#apolloclientgetlinks" class="section-link gray-link nav-link">getLinks</a><div>returns an array of ApolloLink to be used in the creation of the final link
falsy values are filtered out
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ApolloLink?></code></pre></section><section id="apolloclientcreateerrorlink"><a href="#apolloclientcreateerrorlink" class="section-link gray-link nav-link">createErrorLink</a><div>creates an instance of ErrorLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink?</code></pre></section><section id="apolloclientcreateretrylink"><a href="#apolloclientcreateretrylink" class="section-link gray-link nav-link">createRetryLink</a><div>creates an instance of RetryLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink?</code></pre></section><section id="apolloclientcreatebatchlink"><a href="#apolloclientcreatebatchlink" class="section-link gray-link nav-link">createBatchLink</a><div>creates an instance of HttpLink
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow">ApolloLink?</code></pre></section></article></section><section id="nextapollo"><a href="#nextapollo" class="section-link gray-link nav-link">nextApollo</a><div>Apollo-Client HOC for the Next.js

<a href="https://nextjs.org/docs/#custom-app">App</a>
 component.
<p>A simpler way to achieve the same result as in
<a href="https://github.com/zeit/next.js/tree/master/examples/with-apollo">with-apollo</a>,
which does not require any boilerplate code.</p>
<p>The <code>ctx</code> object is equivalent to the one received in all
<a href="https://nextjs.org/docs/#fetching-data-and-component-lifecycle">getInitialProps</a>
hooks.</p>
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">getClient<span class="token punctuation">:</span> function (options: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, ctx: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="#apolloclient">ApolloClient</a>
getProps<span class="token punctuation">:</span> function (ctx: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>? <span class="token operator">=</span> noop</code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> App<span class="token punctuation">,</span> <span class="token punctuation">{</span> Container <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/app'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApolloProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-apollo'</span>
<span class="token keyword">import</span> nextApollo <span class="token keyword">from</span> <span class="token string">'secondwheel/nextApollo'</span>
<span class="token keyword">import</span> ApolloClient <span class="token keyword">from</span> <span class="token string">'secondwheel/ApolloClient'</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> pageProps<span class="token punctuation">,</span> client <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Container<span class="token operator">></span>
        <span class="token operator">&lt;</span>ApolloProvider client<span class="token operator">=</span><span class="token punctuation">{</span>client<span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token operator">...</span>pageProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ApolloProvider<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Container<span class="token operator">></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">nextApollo</span><span class="token punctuation">(</span>
  options <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">ApolloClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span> uri<span class="token punctuation">:</span> <span class="token string">'http://localhost:4000'</span><span class="token punctuation">,</span> <span class="token operator">...</span>options <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>MyApp<span class="token punctuation">)</span></code></pre></section><section id="subscription"><a href="#subscription" class="section-link gray-link nav-link">subscription</a><div>tools for working with GraphQL subscriptions
</div><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">export</span> type Payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  mutation<span class="token punctuation">:</span> <span class="token string">'CREATED'</span> <span class="token operator">|</span> <span class="token string">'UPDATED'</span> <span class="token operator">|</span> <span class="token string">'DELETED'</span><span class="token punctuation">;</span>
  node<span class="token punctuation">:</span> Object <span class="token operator">|</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><article class="shift"><section id="subscriptioncreated"><a href="#subscriptioncreated" class="section-link gray-link nav-link">created</a><div>updates object to reflect created nodes at path
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">result<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
path<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
payload<span class="token punctuation">:</span> Payload</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> created <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/subscription'</span>

<span class="token keyword">const</span> newData <span class="token operator">=</span> <span class="token function">created</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'path.to.nested.list'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span></code></pre></section><section id="subscriptionupdated"><a href="#subscriptionupdated" class="section-link gray-link nav-link">updated</a><div>updates object to reflect updated nodes at path
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">result<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
path<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
payload<span class="token punctuation">:</span> Payload</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> updated <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/subscription'</span>

<span class="token keyword">const</span> newData <span class="token operator">=</span> <span class="token function">updated</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'path'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span></code></pre></section><section id="subscriptiondeleted"><a href="#subscriptiondeleted" class="section-link gray-link nav-link">deleted</a><div>updates object to reflect deleted nodes at path
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">result<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
path<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
payload<span class="token punctuation">:</span> Payload</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> deleted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/subscription'</span>

<span class="token keyword">const</span> newData <span class="token operator">=</span> <span class="token function">deleted</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'path'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span></code></pre></section></article></section></article></section><section id="hashingmasking"><a href="#hashingmasking" class="section-link gray-link nav-link">Hashing/Masking</a><div>
</div><article class="shift"><section id="maskpassword"><a href="#maskpassword" class="section-link gray-link nav-link">maskPassword</a><div>produces a string of the same length as the original with every character
replaced by a 
<code>"*"</code>
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">value<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> maskPassword <span class="token keyword">from</span> <span class="token string">'secondwheel/maskPassword'</span>

<span class="token function">maskPassword</span><span class="token punctuation">(</span><span class="token string">'secret'</span><span class="token punctuation">)</span> <span class="token comment">// ******</span></code></pre></section><section id="md5"><a href="#md5" class="section-link gray-link nav-link">md5</a><div>produces an md5 hash on Node.js as well as in a browser
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">value<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> md5 <span class="token keyword">from</span> <span class="token string">'secondwheel/md5'</span>

<span class="token function">md5</span><span class="token punctuation">(</span><span class="token string">'42'</span><span class="token punctuation">)</span> <span class="token comment">// a1d0c6e83f027327d8461063f4ac58a6</span></code></pre></section><section id="slug"><a href="#slug" class="section-link gray-link nav-link">slug</a><div>generate a slug just like GitHub does for markdown headings
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">value<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">''</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> slug <span class="token keyword">from</span> <span class="token string">'secondwheel/slug'</span>

<span class="token function">slug</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token comment">// hello-world</span></code></pre></section></article></section><section id="test-assertions"><a href="#test-assertions" class="section-link gray-link nav-link">Test Assertions</a><div>
</div><article class="shift"><section id="reactshallowstrictequal"><a href="#reactshallowstrictequal" class="section-link gray-link nav-link">reactShallowStrictEqual</a><div>a unit testing helper for React components
<p>performs a <strong>shallow</strong> render of <code>actual</code> and compares the result to
<code>expected</code></p>
<p>uses the native Node.js
<a href="https://nodejs.org/api/assert.html#assert_assert_strictequal_actual_expected_message">assert.strictEqual</a>
to perform the assertion</p>
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">actual<span class="token punctuation">:</span> ReactNode
expected<span class="token punctuation">:</span> ReactNode
message<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</code></pre><h4>Throws</h4><pre class="language-flow"><code class="language-flow">AssertionError <span class="token comment">// test failure</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token comment">// MyButton.js</span>
<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">'classnames'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">,</span> className<span class="token punctuation">,</span> <span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">'my-button'</span><span class="token punctuation">,</span> className<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token punctuation">)</span></code></pre><pre class="language-flow"><code class="language-flow"><span class="token comment">// MyButton.test.js</span>
<span class="token keyword">import</span> reactShallowStrictEqual <span class="token keyword">from</span> <span class="token string">'secondwheel/reactShallowStrictEqual'</span>
<span class="token keyword">import</span> MyButton <span class="token keyword">from</span> <span class="token string">'./MyButton'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'MyButton'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should render predictable result'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">reactShallowStrictEqual</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token operator">&lt;</span>MyButton className<span class="token operator">=</span><span class="token string">"test-class"</span> id<span class="token operator">=</span><span class="token string">"test-id"</span><span class="token operator">></span>test children<span class="token operator">&lt;</span><span class="token operator">/</span>MyButton<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"my-button test-class"</span> id<span class="token operator">=</span><span class="token string">"test-id"</span><span class="token operator">></span>test children<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></section><section id="matching"><a href="#matching" class="section-link gray-link nav-link">matching</a><div>verifies that 
<code>expected</code>
 is a subset of 
<code>actual</code>
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">actual<span class="token punctuation">:</span> any
expected<span class="token punctuation">:</span> any
message<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">'expected values to match'</span></code></pre><h4>Throws</h4><pre class="language-flow"><code class="language-flow">AssertionError <span class="token comment">// test failure</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> matching <span class="token keyword">from</span> <span class="token string">'secondwheel/matching'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'matching'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should match'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">matching</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'45'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> something<span class="token punctuation">:</span> <span class="token string">'here'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">45</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></section><section id="assert"><a href="#assert" class="section-link gray-link nav-link">assert</a><div>verifies that executing 
<code>resolver</code>
 on 
<code>actual</code>
 results in a truthy value
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">actual<span class="token punctuation">:</span> T
resolver<span class="token punctuation">:</span> function (actual: T): any <span class="token operator">=</span> identity
message<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> <span class="token operator">=</span> <span class="token string">'expected value to be truthy'</span></code></pre><h4>Throws</h4><pre class="language-flow"><code class="language-flow">AssertionError <span class="token comment">// test failure</span></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> assert <span class="token keyword">from</span> <span class="token string">'secondwheel/assert'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should be less than a 1000'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> value <span class="token operator">=></span> value <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></section></article></section><section id="misc"><a href="#misc" class="section-link gray-link nav-link">Misc</a><div>
</div><article class="shift"><section id="cookie"><a href="#cookie" class="section-link gray-link nav-link">cookie</a><div>tools for working with cookies
</div><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> type <span class="token punctuation">{</span> CookieOptions<span class="token punctuation">,</span> $Response<span class="token punctuation">,</span> $Request <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'express'</span>

<span class="token keyword">export</span> type Options <span class="token operator">=</span> <span class="token punctuation">{</span>
  req<span class="token operator">?</span><span class="token punctuation">:</span> $Request<span class="token punctuation">;</span>
  res<span class="token operator">?</span><span class="token punctuation">:</span> $Response<span class="token punctuation">;</span>
  <span class="token operator">...</span>$Exact<span class="token operator">&lt;</span>CookieOptions<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><article class="shift"><section id="cookiesetcookie"><a href="#cookiesetcookie" class="section-link gray-link nav-link">setCookie</a><div>sets a cookie
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">name<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
value<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
options<span class="token punctuation">:</span> Options?</code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> setCookie <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token string">'cookie-value'</span><span class="token punctuation">)</span>               <span class="token comment">// browser</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token string">'cookie-value'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section><section id="cookiesetsessioncookie"><a href="#cookiesetsessioncookie" class="section-link gray-link nav-link">setSessionCookie</a><div>sets a session (temporary) cookie
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">name<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
value<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
options<span class="token punctuation">:</span> Options?</code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> setSessionCookie <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token function">setSessionCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token string">'cookie-value'</span><span class="token punctuation">)</span>               <span class="token comment">// browser</span>
<span class="token function">setSessionCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token string">'cookie-value'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section><section id="cookiegetcookie"><a href="#cookiegetcookie" class="section-link gray-link nav-link">getCookie</a><div>retrieves a cookie by name
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">name<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
options<span class="token punctuation">:</span> Options?</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> getCookie <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token keyword">const</span> cookieValue <span class="token operator">=</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">)</span>               <span class="token comment">// browser</span>
<span class="token keyword">const</span> cookieValue <span class="token operator">=</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section><section id="cookieremovecookie"><a href="#cookieremovecookie" class="section-link gray-link nav-link">removeCookie</a><div>removes a cookie
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">name<span class="token punctuation">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
options<span class="token punctuation">:</span> Options?</code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> removeCookie <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">)</span>               <span class="token comment">// browser</span>
<span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token string">'cookie-name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section><section id="cookiesetreturnto"><a href="#cookiesetreturnto" class="section-link gray-link nav-link">setReturnTo</a><div>sets the "return to" value (current URL) into a session cookie
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options?</code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> setReturnTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token function">setReturnTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// browser</span>
<span class="token function">setReturnTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section><section id="cookiegetreturnto"><a href="#cookiegetreturnto" class="section-link gray-link nav-link">getReturnTo</a><div>returns and removes the "return to" value
</div><h4>Parameters</h4><pre class="language-flow"><code class="language-flow">options<span class="token punctuation">:</span> Options?</code></pre><h4>Returns</h4><pre class="language-flow"><code class="language-flow"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></pre><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> getReturnTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/cookie'</span>

<span class="token keyword">const</span> cookieValue <span class="token operator">=</span> <span class="token function">getReturnTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// browser</span>
<span class="token keyword">const</span> cookieValue <span class="token operator">=</span> <span class="token function">getReturnTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> req<span class="token punctuation">,</span> res <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// server</span></code></pre></section></article></section><section id="constants"><a href="#constants" class="section-link gray-link nav-link">constants</a><div></div><article class="shift"><section id="constantsisnode"><a href="#constantsisnode" class="section-link gray-link nav-link">isNode</a><div>truthy when running in Node.js
</div><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> isNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/constants'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>isNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Node.js</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// not Node.js</span>
<span class="token punctuation">}</span></code></pre></section><section id="constantsisbrowser"><a href="#constantsisbrowser" class="section-link gray-link nav-link">isBrowser</a><div>truthy when running in a browser
</div><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> isBrowser <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/constants'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>isBrowser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// browser</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// not browser</span>
<span class="token punctuation">}</span></code></pre></section><section id="constantsnativewebsocket"><a href="#constantsnativewebsocket" class="section-link gray-link nav-link">NativeWebSocket</a><div>contains 
<code>WebSocket</code>
 or 
<code>MozWebSocket</code>
 from the global scope if available
</div><h4>Examples</h4><pre class="language-flow"><code class="language-flow"><span class="token keyword">import</span> <span class="token punctuation">{</span> NativeWebSocket <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'secondwheel/constants'</span></code></pre></section></article></section><section id="theme"><a href="#theme" class="section-link gray-link nav-link">theme</a><div>a 
<a href="http://documentation.js.org/">documentation.js</a>
 theme used to
generate this documentation

<br />


<br />


<em>Example usage</em>
<ol>
<li>install this package - <code>yarn add secondwheel</code></li>
<li>add a script to <em>package.json</em></li>
</ol>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">  "scripts"</span><span class="token operator">:</span><span class="token punctuation"> {</span>
<span class="token property">    "docs"</span><span class="token operator">:</span><span class="token string"> "documentation build *.js -f html -t node_modules/secondwheel/theme -o docs"</span>
<span class="token punctuation">  }</span>
<span class="token punctuation">}</span></code></pre>
</div></section></article></section></article></main></div><script>
var links = Array.from(document.getElementsByClassName('aside-link'))
function handleHashChange () {
  links.forEach(function (link) {
    link.classList.remove('active')
  })
  links.forEach(function (link) {
    if (link.dataset.rbEventKey === location.hash) {
      while(link.classList.contains('aside-link')) {
        link.classList.add('active')
        link = link.parentNode.parentNode.parentNode.firstElementChild
      }
    }
  })
}
addEventListener('hashchange', handleHashChange, false)
handleHashChange()
</script></body></html>